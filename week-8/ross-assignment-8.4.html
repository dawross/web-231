<!DOCTYPE html>
<html lang="en">
  <!-- ============================================
  ; Title: Assignment 8.4
  ; Author: Dan Ross
  ; Date: 18 July 2020
  ; Description: Putting it all together
  ;=========================================== -->

  <head>
    <meta charset="UTF-8" />
    <title>Assignment 8.4</title>
    <!-- you will need to the href to point to your root directories css file -->
    <link rel="stylesheet" href="../site.css" />
    <style type="text/css">
      #employee tbody tr:hover {
        cursor: pointer;
        background-color: #ffff99;
      }
    </style>
  </head>
  <body>
    <div id="emps"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      //constructor object
      function employee(id, firstName, lastName, title) {
        this.id = id;
        this.firstName = firstName;
        this.lastName = lastName;
        this.title = title;
      }
      //adding employees to object
      var employees = [
        new employee("100", "Thomas", "Edison", "Software Engineer"),
        new employee("101", "Benjamin", "Franklin", "Programmer"),
        new employee("102", "Nikola", "Tesla", "Project Manager"),
        new employee("103", "Charles", "Babbage", "Product Manager"),
        new employee("104", "Alexander", "Bell", "Business Analyst"),
      ];

      // Loop and output to HTML
      var out =
        "<table id='employee'>" +
        "<thead>" +
        "<tr>" +
        "<th>Id</th>" +
        "<th>First Name</th>" +
        "<th>Last Name</th>" +
        "<th>Title</th>" +
        "</tr>" +
        "</thead>";
      for (var i = 0; i < employees.length; i++) {
        out +=
          "<tr>" +
          "<td>" +
          employees[i].id +
          "</td>" +
          "<td>" +
          employees[i].firstName +
          "</td>" +
          "<td>" +
          employees[i].lastName +
          "</td>" +
          "<td>" +
          employees[i].title +
          "</td>" +
          "</tr>";
      }
      out += " </table>";
      document.getElementById("emps").innerHTML = out;
      //function that iterates over the employees array and returns the alert with selected ID
      function getEmployee(id) {
        for (var i = 0; i < employees.length; i++) {
          if (id === employees[i].id) {
            alrt = employees[i].id + " " + employees[i].firstName + " " + employees[i].lastName + " " + employees[i].title ;
            return alrt;
          }
        }
      }

      // jQuery onClick event
      // Don't remove this, just add your code to the body of the event (curly braces)
      $(function () {
        $("table tr").click(function () {
          var empId = $(this).find('td:first').html();
          alert(getEmployee(empId));
        });
      });
    </script>
  </body>
</html>
